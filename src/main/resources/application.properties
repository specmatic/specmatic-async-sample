# ========================================
# Application Configuration
# ========================================
spring.application.name=order-api
server.port=9000

# ========================================
# Protocol Configuration
# Change these two properties to switch between protocol combinations
# Supported values: kafka, sqs, mqtt, jms, amqp
#
# After changing these, simply run './gradlew test' and the contract tests
# will automatically adapt to your protocol combination!
#
# See PROTOCOL_CONFIGURATION.md for more details
# ========================================
receive.protocol=mqtt
send.protocol=kafka

# ========================================
# Kafka Configuration
# Required when: receive.protocol=kafka OR send.protocol=kafka
# ========================================
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.consumer.group-id=order-api-group
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer

# ========================================
# AWS SQS Configuration
# Required when: receive.protocol=sqs OR send.protocol=sqs
# Note: Also comment out AWS exclusions in spring.autoconfigure.exclude above
# ========================================
spring.cloud.aws.region.static=us-east-1
spring.cloud.aws.credentials.access-key=test
spring.cloud.aws.credentials.secret-key=test
spring.cloud.aws.endpoint=http://localhost:4566
spring.cloud.aws.sqs.endpoint=http://localhost:4566

# ========================================
# MQTT Configuration
# Required when: receive.protocol=mqtt OR send.protocol=mqtt
# Note: Port 1884 is used to avoid conflict with Artemis (which uses 1883)
# Change to 1883 if not using Artemis alongside MQTT
# ========================================
mqtt.broker-url=tcp://localhost:1884
mqtt.client-id=order-api-client
mqtt.username=
mqtt.password=
mqtt.qos=1

# ========================================
# JMS (ActiveMQ Artemis) Configuration
# Required when: receive.protocol=jms OR send.protocol=jms
# Note: Also comment out ArtemisAutoConfiguration exclusion above
# ========================================
spring.artemis.mode=native
spring.artemis.host=localhost
spring.artemis.port=61616
spring.artemis.user=admin
spring.artemis.password=admin

# ========================================
# AMQP (RabbitMQ) Configuration
# Required when: receive.protocol=amqp OR send.protocol=amqp
# Note: Port 5673 is used to avoid conflict with Artemis (which uses 5672 for AMQP)
# Change to 5672 if not using Artemis alongside RabbitMQ
# ========================================
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5673
spring.rabbitmq.username=guest
spring.rabbitmq.password=guest

# ========================================
# Channel/Queue/Topic Names
# These are used across all protocols
# ========================================
channel.new-orders=new-orders
channel.wip-orders=wip-orders
channel.to-be-cancelled-orders=to-be-cancelled-orders
channel.cancelled-orders=cancelled-orders
channel.accepted-orders=accepted-orders
channel.out-for-delivery-orders=out-for-delivery-orders

# ========================================
# Logging Configuration
# ========================================
logging.level.com.example.orderapi=INFO
logging.level.org.springframework.kafka=INFO
logging.level.org.springframework.amqp=INFO
logging.level.org.springframework.jms=INFO
logging.level.io.awspring.cloud=INFO
